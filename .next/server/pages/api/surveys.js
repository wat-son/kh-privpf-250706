"use strict";(()=>{var e={};e.id=5,e.ids=[5],e.modules={20145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6165:(e,t,r)=>{r.r(t),r.d(t,{config:()=>c,default:()=>l,routeModule:()=>m});var s={};r.r(s),r.d(s,{default:()=>handler});var a=r(71802),n=r(47153),o=r(56249);let d=require("@aws-sdk/client-dynamodb"),i=require("@aws-sdk/lib-dynamodb"),u=i.DynamoDBDocumentClient.from(new d.DynamoDBClient({region:process.env.AWS_REGION}));async function handler(e,t){if("POST"===e.method)try{let r=e.body,s={surveyId:r.surveyId,title:r.title,description:r.description,status:r.status,questions:r.questions,createdAt:r.createdAt??new Date().toISOString()};return await u.send(new i.PutCommand({TableName:process.env.SURVEYS_TABLE,Item:s})),t.status(201).json({ok:!0,surveyId:s.surveyId})}catch(e){return console.error(e),t.status(500).json({error:"server_error"})}else t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed")}let l=(0,o.l)(s,"default"),c=(0,o.l)(s,"config"),m=new a.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/surveys",pathname:"/api/surveys",bundlePath:"",filename:""},userland:s})}};var t=require("../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[222],()=>__webpack_exec__(6165));module.exports=r})();